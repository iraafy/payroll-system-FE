<div class="mx-4 md:mx-8 mt-7">
    <h2 class="text-center fw-bold">
        Tambah Pengguna
    </h2>
    <p class="text-center">Silahkan isi data pengguna sesuai dengan form dibawah ini</p>
    <div class="grid mt-7 justify-content-center">
        <div class="md:col-5 col-12 flex align-items-center">
            <div class="w-full">
                <form [formGroup]="userForm">
                    <div class="grid">
                        <div class="col-6">
                            <div class="mb-3">
                                <div class="mb-2">
                                    <label for="name" class="form-label fw-semibold">Nama Lengkap<span class="text-red-500">*</span></label>
                                </div>
                                <div>
                                    <input type="text" class="w-full bg-gray-100" id="name" pInputText formControlName="fullName">
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="mb-3">
                                <div class="mb-2">
                                    <label for="email" class="form-label fw-semibold">Email<span class="text-red-500">*</span></label>
                                </div>
                                <div>
                                    <input type="email" class="w-full bg-gray-100" id="email" pInputText formControlName="email">
                                </div>
                            </div>
                        </div>
                    </div>  
                    <div class="grid">
                        <div class="col-6">
                            <div class="mb-3">
                                <div class="mb-2">
                                    <label for="company" class="form-label fw-semibold">Perusahaan<span class="text-red-500">*</span></label>
                                </div>
                                <div>
                                    <p-dropdown 
                                        styleClass="w-full bg-gray-100"
                                        [options]="companies"
                                        optionLabel="companyName"
                                        optionValue="id"
                                        [filter]="true"
                                        filterBy="companyName" 
                                        [showClear]="true"
                                        id="company"
                                        formControlName="companyId"
                                    />
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="mb-3">
                                <div class="mb-2">
                                    <label for="role" class="form-label fw-semibold">Role<span class="text-red-500">*</span></label>
                                </div>
                                <div>
                                    <p-dropdown 
                                        styleClass="w-full bg-gray-100"
                                        [options]="roles"
                                        optionValue="id"
                                        optionLabel="roleName" 
                                        id="role"
                                        formControlName="roleId"
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-5">
                        <div class="mb-2">
                            <label for="file" class="form-label fw-semibold">Foto Profil</label>
                        </div>
                        <div>
                            <input type="file" id="file" class="w-full bg-gray-100" pInputText (change)="fileUpload($event)"/>
                        </div>
                    </div>
                    <p-button routerLink="/users" type="button" severity="secondary">Batal</p-button>
                    <p-button (click)="displayModal=true" styleClass="bg-color-primary ml-3">Simpan</p-button>
                </form>
            </div>
        </div>
        <div class="md:col-5 col-12 flex justify-content-end">
            <img src="./assets/images/users.svg" class="w-26rem" alt="add-account-image">
        </div>
    </div>
</div>

<p-dialog header="Konfirmasi" [modal]="true" [(visible)]="displayModal" [style]="{ width: '25vw' }" [draggable]="false"
    [resizable]="false">
    <div class="flex align-items-center gap-3 mb-3">
        <label>Apakah anda yakin untuk menambahkan pengguna?</label>
    </div>
    <div class="flex justify-content-around grid">
        <div class="col">
            <p-button label="Tidak" severity="secondary" (click)="displayModal = false" />
        </div>
        <div class="col text-right">
            <p-button label="Ya" (click)="createUser()" />
        </div>
    </div>
</p-dialog>